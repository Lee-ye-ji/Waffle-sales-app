(this["webpackJsonpreact-waffle-test"]=this["webpackJsonpreact-waffle-test"]||[]).push([[0],{37:function(t,e,c){},38:function(t,e,c){},59:function(t,e,c){"use strict";c.r(e);var r,n,a=c(1),s=c.n(a),i=c(28),o=c.n(i),d=(c(37),c(2)),j=(c(38),c(4)),l=c.p+"static/media/footer.0ce90092.svg",b=c(5),u=b.a.div(r||(r=Object(j.a)(["\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    text-align: center;\n"]))),p=c(0);var x,h=function(){var t=Object(b.a)(u)(n||(n=Object(j.a)(["\n        background-image: url(",")\n    "])),l);return Object(p.jsx)(t,{children:Object(p.jsx)("p",{children:"2021 YEJI"})})},O=c.p+"static/media/header.bd86cf8b.svg";var f,g,v=function(){var t=Object(b.a)(u)(x||(x=Object(j.a)(["\n        background-color: #F4AB06;\n        height: 100px;\n    "]))),e={backgroundImage:"url(".concat(O,")"),backgroundRepeat:"no-repeat",backgroundSize:"cover",height:"100px"};return Object(p.jsxs)("div",{children:[Object(p.jsx)(t,{children:"Waffle"}),Object(p.jsx)("div",{style:e})]})},m=c(7),y=c.n(m),k=c(13),C=c(14),F=c.n(C),w=b.a.button(f||(f=Object(j.a)(["\nbackground: #F4AB06;\nwidth: 30px;\nborder: 0px;\n&:hover {\n    background: #FADA92;\n}\n"]))),S=b.a.div(g||(g=Object(j.a)(["\nwidth: 30px;\ntext-align: center;\nline-height: 20px;\nheight: 25px;\n"])));var A=function(t){var e=t.name,c=t.imagePath,r=t.price,n=t.description,s=t.updateItemCount,i=Object(a.useState)(0),o=Object(d.a)(i,2),j=o[0],l=o[1];return Object(p.jsx)("div",{children:Object(p.jsxs)("div",{style:{margin:"20px"},children:[Object(p.jsx)("img",{src:"http://localhost:5000/".concat(c),alt:"".concat(e," product")}),Object(p.jsxs)("form",{style:{marginTop:"10px"},children:[Object(p.jsx)("label",{style:{textAlign:"right"},children:e}),Object(p.jsxs)("p",{style:{fontSize:"10px",color:"#9E7F51"},children:["(",n,")"]}),Object(p.jsxs)("p",{children:["\u20a9",r]}),Object(p.jsxs)("div",{style:{width:"100%",display:"flex"},children:[Object(p.jsx)(w,{onClick:function(){100===j?(alert("".concat(e,"\uc758 \ucd5c\ub300 \uc7ac\uace0\uc218\ub7c9\uc740 100\uac1c\uc785\ub2c8\ub2e4.")),l(100)):(l(j+1),s(e,j+1,r))},type:"button","data-testid":"".concat(e,"-btn"),children:"+"}),Object(p.jsx)(S,{"data-testid":"".concat(e,"-input"),children:j}),Object(p.jsx)(w,{onClick:function(){j<=0?(alert("0\uc740 \ucd5c\uc18c\uc218\ub7c9\uc785\ub2c8\ub2e4."),l(0)):(l(j-1),s(e,j-1,r))},type:"button",children:"-"})]})]})]})})};var B=function(t){var e=t.name,c=t.updateItemCount;return Object(p.jsx)("div",{children:Object(p.jsxs)("form",{children:[Object(p.jsx)("input",{type:"checkbox",id:"".concat(e," option"),onChange:function(t){c(e,t.target.checked?1:0)}})," ",Object(p.jsx)("label",{htmlFor:"".concat(e," option"),children:e})]})})};var T,E=function(t){var e=t.message||"\uc5d0\ub7ec\uc785\ub2c8\ub2e4.";return Object(p.jsx)("div",{"data-testid":"error-banner",style:{backgroundColor:"red",color:"white"},children:e})},I=c(32),M=c(9),P=c(15),D=T=Object(a.createContext)();function R(t,e){var c,r=0,n=Object(P.a)(e[t].values());try{for(n.s();!(c=n.n()).done;){var a=c.value;r+=a[0]*a[1]}}catch(s){n.e(s)}finally{n.f()}return r}function H(t){var e=Object(a.useState)({products:new Map,cream:new Map,topping:new Map}),c=Object(d.a)(e,2),r=c[0],n=c[1],s=function(){n({products:new Map,cream:new Map,topping:new Map})},i=Object(a.useState)({products:0,cream:0,topping:0,total:0}),o=Object(d.a)(i,2),j=o[0],l=o[1];Object(a.useEffect)((function(){var t=R("products",r),e=R("cream",r),c=R("topping",r);l({products:t,cream:e,topping:c,total:t+e+c})}),[r]);var b=Object(a.useMemo)((function(){return{orderDatas:Object(M.a)(Object(M.a)({},r),{},{totals:j}),updateItemCount:function(t,e,c,a){var s="products"===a?c:500,i=Object(M.a)({},r),o=[];o.push(e,s),r[a].set(t,Object(I.a)(new Set(o))),n(i)},resetOrderdatas:s}}),[r,j]);return Object(p.jsx)(T.Provider,Object(M.a)({value:b},t))}var N=function(t){var e=t.orderType,c=Object(a.useState)([]),r=Object(d.a)(c,2),n=r[0],s=r[1],i=Object(a.useState)(!1),o=Object(d.a)(i,2),j=o[0],l=o[1],b=Object(a.useContext)(D).updateItemCount;Object(a.useEffect)((function(){u(e)}),[e]);var u=function(){var t=Object(k.a)(y.a.mark((function t(e){var c;return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,F.a.get("http://localhost:5000/".concat(e));case 3:c=t.sent,s(c.data),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),l(!0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}();if(j)return Object(p.jsx)(E,{message:"\uc5d0\ub7ec\uac00 \ubc1c\uc0dd\ud588\uc2b5\ub2c8\ub2e4."});var x="products"===e?A:B,h=n.map((function(t){return Object(p.jsx)(x,{name:t.name,price:t.price,description:t.description,imagePath:t.imagePath,updateItemCount:function(t,c,r){return b(t,c,r,e)}},t.name)}));return Object(p.jsx)(p.Fragment,{children:Object(p.jsx)("div",{style:"products"===e?{display:"flex"}:{display:"block"},children:h})})};var J=function(t){var e=t.setStep,c=Object(a.useState)(!1),r=Object(d.a)(c,2),n=r[0],s=r[1],i=Object(a.useContext)(D).orderDatas;return Object(p.jsxs)("div",{style:{lineHeight:"50px"},children:[Object(p.jsx)("input",{type:"checkbox",checked:n,onChange:function(t){0!==i.totals.total?s(t.target.checked):alert("\uc8fc\ubb38\uc744 \ud574\uc8fc\uc138\uc694!")},id:"confirm-checkbox"})," ",Object(p.jsx)("label",{htmlFor:"confirm-checkbox",style:{color:"#7A7A7A"},children:"Check the order!"}),Object(p.jsx)("button",{disabled:!n,type:"submit",onClick:function(){return e(1)},style:n?{background:"#9E7F51",color:"#fff",width:"100%",height:"30px",cursor:"pointer"}:{width:"100%",height:"30px"},children:"Order"})]})};var W=function(t){var e=t.setStep,c=Object(a.useContext)(D).orderDatas;return Object(p.jsxs)("div",{style:{border:"1px solid #F4AB06",borderRadius:"10px",padding:"10px"},children:[Object(p.jsxs)("table",{style:{width:"100%",lineHeight:"50px",paddingTop:"30px"},children:[Object(p.jsx)("thead",{children:Object(p.jsx)("tr",{children:Object(p.jsx)("th",{children:Object(p.jsx)("b",{style:{color:"#F4AB06"},children:"CART"})})})}),Object(p.jsxs)("tbody",{children:[Object(p.jsx)("tr",{children:Object(p.jsxs)("td",{children:["Waffle: ",c.totals.products]})}),Object(p.jsx)("tr",{children:Object(p.jsxs)("td",{children:["Cream: ",c.totals.cream]})}),Object(p.jsx)("tr",{children:Object(p.jsxs)("td",{children:["Topping: ",c.totals.topping]})}),Object(p.jsx)("tr",{children:Object(p.jsxs)("td",{style:{borderTop:"1px solid #F4AB06"},children:["Total: ",c.totals.total]})})]})]}),Object(p.jsx)(J,{setStep:e})]})};var z=function(t){var e=t.setStep;return Object(p.jsx)("div",{style:{paddingBottom:"20px"},children:Object(p.jsxs)("div",{style:{display:"flex",justifyContent:"center"},children:[Object(p.jsxs)("div",{children:[Object(p.jsx)("p",{style:{textAlign:"center",background:"#FFEDCB"},children:"CREAM"}),Object(p.jsx)(N,{orderType:"cream"}),Object(p.jsx)("p",{style:{textAlign:"center",background:"#005248",color:"#fff"},children:"TOPPING"}),Object(p.jsx)(N,{orderType:"topping"})]}),Object(p.jsx)("div",{children:Object(p.jsx)(N,{orderType:"products"})}),Object(p.jsx)(W,{setStep:e})]})})};var L=function(t){var e=t.setStep,c=Object(a.useContext)(D),r=c.orderDatas,n=c.resetOrderdatas,s=Object(a.useState)([]),i=Object(d.a)(s,2),o=i[0],j=i[1],l=Object(a.useState)(!0),b=Object(d.a)(l,2),u=b[0],x=b[1],h=Object(a.useState)(!1),O=Object(d.a)(h,2),f=O[0],g=O[1];Object(a.useEffect)((function(){v(r)}),[r]);var v=function(){var t=Object(k.a)(y.a.mark((function t(e){var c,r,n,a;return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r=function(){var t,c,r=Object(P.a)(e.products);try{for(r.s();!(c=r.n()).done;){t=c.value[1]}}catch(n){r.e(n)}finally{r.f()}return t},c=[],Array.from(e.products.keys()).map((function(t){return c.push([t,r()[0]])})),n={products:c,cream:Array.from(e.cream.keys()),topping:Array.from(e.topping.keys()),totals:e.totals.total},t.next=8,F.a.post("http://localhost:5000/order",n);case 8:a=t.sent,j(a.data),x(!1),t.next=16;break;case 13:t.prev=13,t.t0=t.catch(0),g(!0);case 16:case"end":return t.stop()}}),t,null,[[0,13]])})));return function(e){return t.apply(this,arguments)}}();if(f)return Object(p.jsx)(E,{message:"\uc5d0\ub7ec\uac00 \ubc1c\uc0dd\ud588\uc2b5\ub2c8\ub2e4"});var m=o.map((function(t){return Object(p.jsxs)("tr",{children:[Object(p.jsx)("td",{children:t.orderNumber}),Object(p.jsx)("td",{children:Object(p.jsx)("ul",{children:t.products.map((function(t){return Object(p.jsxs)("li",{children:[t[0]," - ",t[1]]},t[0])}))})}),Object(p.jsx)("td",{children:Object(p.jsx)("ul",{children:t.cream.map((function(t){return Object(p.jsx)("li",{children:t},t)}))})}),Object(p.jsx)("td",{children:Object(p.jsx)("ul",{children:t.topping.map((function(t){return Object(p.jsx)("li",{children:t},t)}))})}),Object(p.jsx)("td",{children:t.totals})]},t.orderNumber)}));return u?Object(p.jsx)("div",{children:"loading"}):Object(p.jsxs)("div",{style:{padding:"20px",minHeight:"61vh"},children:[Object(p.jsx)("button",{onClick:function(){n(),e(0)},style:{background:"#9E7F51",color:"#fff",height:"30px",border:"0px",float:"right",cursor:"pointer",display:"block"},children:"Back To First Page"}),Object(p.jsx)("h3",{style:{color:"#005248"},children:"Order complete!"}),Object(p.jsxs)("table",{style:{border:"1px solid #F4AB06",borderRadius:"10px",width:"100%",lineHeight:"50px"},children:[Object(p.jsx)("thead",{children:Object(p.jsxs)("tr",{children:[Object(p.jsx)("td",{style:{borderBottom:"1px solid #9E7F51"},children:"Number"}),Object(p.jsx)("td",{style:{borderBottom:"1px solid #9E7F51"},children:"Waffle"}),Object(p.jsx)("td",{style:{borderBottom:"1px solid #9E7F51"},children:"Cream"}),Object(p.jsx)("td",{style:{borderBottom:"1px solid #9E7F51"},children:"Topping"}),Object(p.jsx)("td",{style:{borderBottom:"1px solid #9E7F51"},children:"Total"})]})}),Object(p.jsx)("tbody",{children:m})]})]})};var G=function(){var t=Object(a.useState)(0),e=Object(d.a)(t,2),c=e[0],r=e[1];return Object(p.jsxs)("div",{style:{padding:0,margin:0},children:[Object(p.jsx)(v,{}),Object(p.jsxs)(H,{children:[0===c&&Object(p.jsx)(z,{setStep:r}),1===c&&Object(p.jsx)(L,{setStep:r})]}),Object(p.jsx)(h,{})]})},Y=function(t){t&&t instanceof Function&&c.e(3).then(c.bind(null,60)).then((function(e){var c=e.getCLS,r=e.getFID,n=e.getFCP,a=e.getLCP,s=e.getTTFB;c(t),r(t),n(t),a(t),s(t)}))};o.a.render(Object(p.jsx)(s.a.StrictMode,{children:Object(p.jsx)(G,{})}),document.getElementById("root")),Y()}},[[59,1,2]]]);
//# sourceMappingURL=main.17ac49af.chunk.js.map